<nz-breadcrumb>
  <nz-breadcrumb-item>Inicio</nz-breadcrumb-item>
  <nz-breadcrumb-item>
    <a routerLink="/propiedades">Propiedades</a>
  </nz-breadcrumb-item>
  <nz-breadcrumb-item>{{isEditing ? 'Editar' : 'Crear'}}</nz-breadcrumb-item>
</nz-breadcrumb>


<!--form-->

<h2>Datos {{
  index === 0 ? 'generales' :
    index === 1 ? 'de ubicacion' :
      index === 2 ? 'visuales' :
        index === 3 ? 'de distribucion y equipos' :
          index === 4 ? 'de negociacion' :
            index === 5 ? 'de attributos' :
              'de documentos'
  }} de propiedad
</h2>

<nz-steps nzSize="small" [nzCurrent]="index" (nzIndexChange)="isEditing ? index = $event : index = $event">
  <nz-step nzTitle="General" [nzStatus]="getStatusBasedOnIndex(index).first"></nz-step>
  <nz-step [nzTitle]="locationTitle" [nzStatus]="getStatusBasedOnIndex(index).second"></nz-step>
  <nz-step nzTitle="Fotografias" [nzStatus]="getStatusBasedOnIndex(index).third"></nz-step>
  <nz-step [nzTitle]="distributionTitle" [nzStatus]="getStatusBasedOnIndex(index).fourth"></nz-step>
  <nz-step [nzTitle]="negotiationTitle" [nzStatus]="getStatusBasedOnIndex(index).fifth"></nz-step>
  <nz-step [nzTitle]="attributesTitle" [nzStatus]="getStatusBasedOnIndex(index).sixth"></nz-step>
  <nz-step nzTitle="Documentos" [nzStatus]="getStatusBasedOnIndex(index).last"></nz-step>
</nz-steps>

<ng-container *ngIf="index === 0">
  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="generalForm">
    <div class="content">
      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="24">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="publicationTitle">Titulo de publicacion (URL)</nz-form-label>
            <nz-form-control [nzErrorTip]="publicationTitleErrTemp">
              <input r appSlugTransform type="text" style="width: 100%" nz-input formControlName="publicationTitle"
                     placeholder="Titulo de publicacion (URL)"/>
              <ng-template #publicationTitleErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un titulo de publicacion!
                </ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="24">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="description">Descripcion</nz-form-label>
            <nz-form-control [nzErrorTip]="descriptionErrTemp">
              <textarea rows="4" type="text" style="width: 100%" nz-input formControlName="description"
                        placeholder="Descripcion"></textarea>
              <ng-template #descriptionErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un tipo de mercado!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>


      </div>

      <nz-divider></nz-divider>

      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzFor="code">codigo</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="code"
                     placeholder="codigo"/>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="propertyType">Tipo de propiedad</nz-form-label>
            <nz-form-control [nzErrorTip]="propertyTypeErrTemp">
              <nz-select formControlName="propertyType" (ngModelChange)="handleSelectPropertyType($event)">
                <nz-option *ngFor="let type of propertyTypes" [nzValue]="type" [nzLabel]="type"></nz-option>
              </nz-select>
              <ng-template #propertyTypeErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un tipo de propiedad!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="propertyCondition">Tipo de mercado</nz-form-label>
            <nz-form-control [nzErrorTip]="propertyConditionErrTemp">
              <nz-select formControlName="propertyCondition">
                <nz-option nzValue="Mercado Primario" nzLabel="Mercado Primario"></nz-option>
                <nz-option nzValue="Mercado Secundario" nzLabel="Mercado Secundario"></nz-option>
              </nz-select>
              <ng-template #propertyConditionErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un tipo de mercado!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

      </div>

      <div nz-row class="row" [nzGutter]="16">

        <div nz-col [nzSpan]="5">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="footageGround">Metraje de terreno</nz-form-label>
            <nz-form-control [nzErrorTip]="footageGroundErrTemp">
              <nz-input-group nzSuffix="m2">
                <input type="text" appOnlyNumbers style="width: 100%" nz-input formControlName="footageGround"
                       placeholder="Metraje de terreno"/>
              </nz-input-group>
              <ng-template #footageGroundErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor de m2!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="5">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="footageBuilding">Metraje de construccion</nz-form-label>
            <nz-form-control [nzErrorTip]="footageBuildingErrTemp">
              <nz-input-group nzSuffix="m2">
              <input type="text" appOnlyNumbers style="width: 100%" nz-input formControlName="footageBuilding"
                     placeholder="Metraje de construccion"/>
              </nz-input-group>
              <ng-template #footageBuildingErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor de m2!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="7">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="antiquity">Antiguedad</nz-form-label>
            <nz-form-control [nzErrorTip]="antiquityErrTemp">
              <input type="text" appOnlyNumbers style="width: 100%" nz-input formControlName="antiquity"
                     placeholder="Antiguedad"/>
              <ng-template #antiquityErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor de antiguedad!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="7">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="zoning">Zonificacion</nz-form-label>
            <nz-form-control [nzErrorTip]="zoningErrTemp">
              <input type="text" style="width: 100%" nz-input formControlName="zoning"
                     placeholder="Zonificacion"/>
              <ng-template #zoningErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor de zonificacion!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="amountOfFloors">Cantidad de pisos</nz-form-label>
            <nz-form-control [nzErrorTip]="amountOfFloorsErrTemp">
              <input type="text" appOnlyNumbers style="width: 100%" nz-input formControlName="amountOfFloors"
                     placeholder="Cantidad de pisos"/>
              <ng-template #amountOfFloorsErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="propertiesPerFloor">Propiedades por piso</nz-form-label>
            <nz-form-control [nzErrorTip]="propertiesPerFloorErrTemp">
              <input type="text" appOnlyNumbers style="width: 100%" nz-input formControlName="propertiesPerFloor"
                     placeholder="Propiedades por piso"/>
              <ng-template #propertiesPerFloorErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="typeOfWork">Tipo de obra</nz-form-label>
            <nz-form-control [nzErrorTip]="typeOfWorkErrTemp">
              <nz-select formControlName="typeOfWork">
                <nz-option  nzValue="Obra gris" nzLabel="Obra gris"></nz-option>
                <nz-option  nzValue="Obra blanca" nzLabel="Obra blanca"></nz-option>
              </nz-select>
              <ng-template #typeOfWorkErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>


        <div nz-col [nzSpan]="24">
          <label nz-checkbox formControlName="handoverKeys">Se entregaron llaves a Vision Inmobiliaria</label>
        </div>
        <div style="margin: 1rem 0"></div>
        <div nz-col [nzSpan]="24">
          <label nz-checkbox formControlName="termsAndConditionsAccepted">Se aceptan los terminos y condiciones de la
            ficha tecnica</label>
        </div>

        <div style="margin: 1rem 0"></div>

        <div nz-col [nzSpan]="24">
          <label nz-checkbox formControlName="isOccupiedByPeople">Esta ocupado por personas?</label>
        </div>
        <div style="margin: 1rem 0"></div>

        <div nz-col [nzSpan]="24">
          <label nz-checkbox formControlName="isFurnished">Esta amoblado?</label>
        </div>
        <div style="margin: 1rem 0"></div>

      </div>

    </div>
  </form>

  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="furnishedAreasForm">
    <div class="content" style="min-height: 100% !important">
      <div style="display: flex; justify-content: space-between; align-items: center" *ngIf="isFurnished">
        <h3>Areas amobladas</h3>
        <button nz-button nzType="primary" (click)="addFurnishedArea()">Agregar un area</button>
      </div>
      <ng-container formArrayName="furnishedAreas">
        <div nz-row class="row" style="display: flex; align-items: center" [nzGutter]="16"
             *ngFor="let furnishedAreasForm of furnishedAreas.controls, index as i">
          <div nz-col [nzSpan]="12">
            <nz-form-item [formGroup]="getFormGroup(furnishedAreasForm)">
              <p style="font-size: 12px !important; font-weight: bold">Nombre</p>
              <nz-form-control>
                <ng-container>
                  <input
                    type="text"
                    style="width: 100%"
                    nz-input
                    formControlName="name"
                    placeholder="Nombre de equipo"/>
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col [nzSpan]="2">
            <button
              style="margin-left: 1rem;"
              (click)="deleteFurnishedArea(i)"
              nz-button
              nzType="default"
              nzShape="circle">
                    <span
                      [nzTheme]="'twotone'"
                      [nzTwotoneColor]="'#ff4d4f'"
                      nz-icon
                      nzType="delete">
                    </span>
            </button>
          </div>
        </div>
      </ng-container>
    </div>
  </form>
</ng-container>

<ng-container *ngIf="index === 1">
  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="locationForm">
    <div class="content">
      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="country">Pais</nz-form-label>
            <nz-form-control [nzErrorTip]="countryErrTemp">
              <nz-select formControlName="country">
                <nz-option nzValue="Venezuela" nzLabel="Venezuela"></nz-option>
              </nz-select>
              <ng-template #countryErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un pais!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="state">Estado</nz-form-label>
            <nz-form-control [nzErrorTip]="stateErrTemp">
              <nz-select nzShowSearch formControlName="state" (ngModelChange)="handleSelectState($event)">
                <nz-option *ngFor="let state of states" [nzValue]="state" [nzLabel]="state"></nz-option>
              </nz-select>
              <ng-template #stateErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un estado!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="city">Municipio</nz-form-label>
            <nz-form-control [nzErrorTip]="cityErrTemp">
              <nz-select nzShowSearch formControlName="city" (ngModelChange)="handleSelectState($event)">
                <nz-option *ngFor="let municipality of cities" [nzValue]="municipality"
                           [nzLabel]="municipality"></nz-option>
              </nz-select>
              <ng-template #cityErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un municipio!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="municipality">Urbanizacion</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="municipality"
                     placeholder="Urbanizacion"/>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzFor="avenue">Avenida</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="avenue"
                     placeholder="Avenida"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzFor="street">Calle</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="street"
                     placeholder="Calle"/>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="isClosedStreet">Es calle cerrada ?</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="isClosedStreet">
                <nz-option nzValue="Si" nzLabel="Si"></nz-option>
                <nz-option nzValue="No" nzLabel="No"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="location">Ubicacion</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="location">
                <nz-option nzValue="A pie de calle" nzLabel="A pie de calle"></nz-option>
                <nz-option nzValue="Centro comercial" nzLabel="Centro comercial"></nz-option>
                <nz-option nzValue="Conjunto residencial" nzLabel="Conjunto residencial"></nz-option>
                <nz-option nzValue="Torre de oficinas" nzLabel="Torre de oficinas"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="4">
          <nz-form-item>
            <nz-form-label nzFor="location">Torre</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="tower"
                     placeholder="Calle"/>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="floor">No. Piso</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="floor"
                     placeholder="No. Piso"/>

            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="amountOfFloors">Pisos / Niveles comprendidos</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="amountOfFloors"
                     placeholder="Pisos / Niveles comprendidos"/>

            </nz-form-control>
          </nz-form-item>
        </div>
      </div>


      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzFor="referencePoint">Punto de referencia</nz-form-label>
            <nz-form-control>
              <textarea rows="4" type="text" style="width: 100%" nz-input formControlName="referencePoint"
                        placeholder="Punto de referencia"></textarea>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="nomenclature">Nomenclatura propiedad</nz-form-label>
            <nz-form-control [nzErrorTip]="nomenclatureErrTemp">
              <input type="text" style="width: 100%" nz-input formControlName="nomenclature"
                     placeholder="Nomenclatura"/>
              <ng-template #nomenclatureErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar una nomenclatura!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

<!--        <div nz-col [nzSpan]="12">-->
<!--          <nz-form-item>-->
<!--            <nz-form-label nzFor="howToGet">Como llegar?</nz-form-label>-->
<!--            <nz-form-control>-->
<!--              <textarea rows="4" type="text" style="width: 100%" nz-input formControlName="howToGet"-->
<!--                        placeholder="Como llegar?"></textarea>-->
<!--            </nz-form-control>-->
<!--          </nz-form-item>-->
<!--        </div>-->


      </div>

      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="parkingNumber">Numero de estacionamiento</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="parkingNumber"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="trunkNumber">Numero de maletero</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="trunkNumber"/>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="parkingLevel">Nivel de estacionamiento</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="parkingLevel"/>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="trunkLevel">Nivel de maletero</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="trunkLevel"/>
            </nz-form-control>
          </nz-form-item>
        </div>


      </div>

    </div>
  </form>

  <nz-divider></nz-divider>

  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="adjacenciesForm">
    <div class="content">
      <h3 style="text-align: center; margin-bottom: 2rem;">Adyacencias</h3>
      <ng-container formArrayName="distribution">

        <div nz-row class="row" [nzGutter]="16">
          <div nz-col [nzSpan]="8" *ngFor="let adjacenciesForm of adjacencies.controls, index as i">
            <nz-form-item [formGroup]="getFormGroup(adjacenciesForm)">
              <p *ngIf="adjacenciesForm.value.type !== 'check'"
                 style="font-size: 12px !important; font-weight: bold">{{adjacenciesForm.value.label}}: </p>
              <nz-form-control>
                <ng-container *ngIf="adjacenciesForm.value.type === 'check'">
                  <label nz-checkbox formControlName="value">
                    <span style="font-size: 12px !important; font-weight: bold">{{adjacenciesForm.value.label}} </span>
                  </label>
                </ng-container>
                <ng-container *ngIf="adjacenciesForm.value.type === 'text'">
                  <input
                    type="text"
                    style="width: 200px"
                    nz-input
                    formControlName="value"
                    [placeholder]="adjacenciesForm.value.placeholder"/>
                </ng-container>
                <ng-container
                  *ngIf="adjacenciesForm.value.type === 'select'">
                  <nz-radio-group formControlName="value">
                    <label *ngFor="let option of adjacenciesForm.value.options.split('#')" nz-radio
                           [nzValue]="option">{{option}}</label>
                  </nz-radio-group>
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
      </ng-container>
    </div>
  </form>
</ng-container>

<ng-container *ngIf="index === 2">
  <form class="form mt-3" nz-form nzLayout="vertical">
    <div class="content">
      <div style="display: flex; justify-content: space-between; align-items: center">
        <button nz-button nzType="primary" type="button" [nzLoading]="loadingImage" (click)="clickInputFile('image')">
          <span nz-icon nzType="upload"></span>
          Agregar imagen
        </button>
        <button nz-button type="button" (click)="showOrderModal = true">
          <span nz-icon nzType="ordered-list" nzTheme="outline"></span>
          Reordenar imagenes
        </button>
      </div>

      <div *ngIf="images.length < 1 " style="margin-top: 5rem">
        <nz-empty
          [nzNotFoundContent]="contentTpl"
        >
          <ng-template #contentTpl>
        <span>
          No se an agregado imagenes a esta propiedad
        </span>
          </ng-template>
        </nz-empty>
      </div>
      <input style="display: none" (change)="handleUploadFile($event, 'imagenes')" multiple type="file" #imageInputFile
             accept="image/*">

      <app-draggable-grid
        [elements]="images"
        (onDeleteElement)="handleDeleteImage($event, 'image')"
        (onSortElements)="handleSortElements($event, 'image')"
      >
      </app-draggable-grid>
    </div>
  </form>
</ng-container>

<ng-container *ngIf="index === 3">
  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="distributionForm">
    <div class="content">
      <h3>Distribucion</h3>
      <ng-container formArrayName="distribution">

        <div nz-row class="row" [nzGutter]="16">
          <div nz-col [nzSpan]="8" *ngFor="let distributionForm of distribution.controls, index as i">
            <nz-form-item [formGroup]="getFormGroup(distributionForm)">
              <p *ngIf="distributionForm.value.type !== 'check'"
                 style="font-size: 12px !important; font-weight: bold">{{distributionForm.value.label}}: </p>
              <nz-form-control>
                <ng-container *ngIf="distributionForm.value.type === 'check'">
                  <label nz-checkbox formControlName="value">
                    <span style="font-size: 12px !important; font-weight: bold">{{distributionForm.value.label}} </span>
                  </label>
                </ng-container>
                <ng-container *ngIf="distributionForm.value.type === 'text'">
                  <input
                    type="text"
                    style="width: 200px"
                    nz-input
                    formControlName="value"
                    [placeholder]="distributionForm.value.placeholder"/>
                </ng-container>
                <ng-container
                  *ngIf="distributionForm.value.type === 'select'">
                  <nz-radio-group formControlName="value">
                    <label *ngFor="let option of distributionForm.value.options.split('#')" nz-radio
                           [nzValue]="option">{{option}}</label>
                  </nz-radio-group>
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
      </ng-container>
    </div>
  </form>
  <nz-divider></nz-divider>

  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="equipmentForm">
    <div class="content">
      <h3>Equipos</h3>
      <nz-empty
        *ngIf="equipment.controls.length < 1"
        nzNotFoundImage="https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg"
        [nzNotFoundContent]="contentTpl"
        [nzNotFoundFooter]="footerTpl"
      >
        <ng-template #contentTpl>
        <span>
          No has agregado equipos en esta propiedad
        </span>
        </ng-template>
        <ng-template #footerTpl>
          <button nz-button nzType="primary" (click)="addEquipment()">Agregar un equipo</button>
        </ng-template>
      </nz-empty>
      <div class="mt-3"></div>

      <ng-container formArrayName="equiment">
        <div nz-row class="row" style="display: flex; align-items: center" [nzGutter]="16"
             *ngFor="let equipmentForm of equipment.controls, index as i">
          <div nz-col [nzSpan]="11">
            <nz-form-item [formGroup]="getFormGroup(equipmentForm)">
              <p style="font-size: 12px !important; font-weight: bold">Nombre</p>
              <nz-form-control>
                <ng-container>
                  <input
                    type="text"
                    style="width: 100%"
                    nz-input
                    formControlName="name"
                    placeholder="Nombre de equipo"/>
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col [nzSpan]="11">
            <nz-form-item [formGroup]="getFormGroup(equipmentForm)">
              <p style="font-size: 12px !important; font-weight: bold">Marca</p>
              <nz-form-control>
                <ng-container>
                  <input
                    type="text"
                    style="width: 100%"
                    nz-input
                    formControlName="brand"
                    placeholder="Nombre de equipo"/>
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
          <div nz-col [nzSpan]="2">
            <button
              style="margin-left: 1rem;"
              (click)="deleteEquipment(i)"
              nz-button
              nzType="default"
              nzShape="circle">
                    <span
                      [nzTheme]="'twotone'"
                      [nzTwotoneColor]="'#ff4d4f'"
                      nz-icon
                      nzType="delete">
                    </span>
            </button>
          </div>
        </div>
      </ng-container>
      <div style="display: flex; justify-content: center" *ngIf="equipment.controls.length > 0">
        <button (click)="addEquipment()" nz-button nzSize="small" nzType="primary">
          <span nz-icon nzType="plus"></span>
          Agregar equipo
        </button>
      </div>
    </div>
  </form>
</ng-container>

<ng-container *ngIf="index === 4">
  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="negotiationForm">
    <div class="content">
      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="price">Precio del inmueble</nz-form-label>
            <nz-form-control [nzErrorTip]="priceErrTemp">
              <input type="text" appCurrencyInput currencySymbol="$" style="width: 100%" nz-input
                     formControlName="price"
                     placeholder="Precio del inmueble"/>
              <ng-template #priceErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar el precio del inmueble!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="partOfPayment">Recibe como medio de pago</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="partOfPayment"
                     placeholder="Recibe como medio de pago"/>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="minimumNegotiation">Negociacion minima</nz-form-label>
            <nz-form-control>
              <input type="text" appCurrencyInput currencySymbol="$" style="width: 100%" nz-input
                     formControlName="minimumNegotiation"
                     placeholder="Negociacion minima"/>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="24">
          <nz-form-item>
            <nz-form-label nzFor="reasonToSellOrRent">Motivo de operacion</nz-form-label>
            <nz-form-control>
              <textarea type="text" style="width: 100%" cols="3" nz-input formControlName="reasonToSellOrRent"
                        placeholder="Motivo de operacion"></textarea>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row class="row" [nzGutter]="16">

        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="user">Asesor vision</nz-form-label>
            <nz-form-control [nzErrorTip]="adviserErrorTemp">
              <nz-select formControlName="user">
                <nz-option *ngFor="let user of advisers" [nzValue]="user.id"
                           [nzLabel]="user.firstName + ' ' + user.lastName"></nz-option>
              </nz-select>
              <ng-template #adviserErrorTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un asesor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="operationType">Tipo de operacion</nz-form-label>
            <nz-form-control [nzErrorTip]="operationTypeErrTemp">
              <nz-select formControlName="operationType">
                <nz-option nzValue="Venta" nzLabel="Venta"></nz-option>
                <nz-option nzValue="Alquiler" nzLabel="Alquiler"></nz-option>
                <nz-option nzValue="Traspaso" nzLabel="Traspaso"></nz-option>
              </nz-select>
              <ng-template #operationTypeErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un tipo de operacion!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzFor="propertyExclusivity">Exclusividad de inmueble</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="propertyExclusivity">
                <nz-option nzValue="30 dias" nzLabel="30 dias"></nz-option>
                <nz-option nzValue="45 dias" nzLabel="45 dias"></nz-option>
                <nz-option nzValue="60 dias" nzLabel="60 dias"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row [nzGutter]="16" class="row">
        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzFor="ownerPaysCommission">Propietario paga comision?</nz-form-label>
            <nz-form-control [nzErrorTip]="ownerPaysCommissionErrTemp">
              <nz-select formControlName="ownerPaysCommission">
                <nz-option nzValue="Si" nzLabel="Si"></nz-option>
                <nz-option nzValue="No" nzLabel="No"></nz-option>4
              </nz-select>
              <ng-template #ownerPaysCommissionErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="sellCommission">Comision venta</nz-form-label>
            <nz-form-control [nzErrorTip]="sellCommissionErrTemp">
              <input type="text" appCurrencyInput currencySymbol="$" style="width: 100%" nz-input
                     formControlName="sellCommission"
                     placeholder="Comision venta"/>
              <ng-template #sellCommissionErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzRequired nzFor="rentCommission">Comision alquiler</nz-form-label>
            <nz-form-control [nzErrorTip]="rentCommissionErrTemp">
              <input type="text" appCurrencyInput currencySymbol="$" style="width: 100%" nz-input
                     formControlName="rentCommission"
                     placeholder="Comision alquiler"/>
              <ng-template #rentCommissionErrTemp let-control>
                <ng-container *ngIf="control.hasError('required')">Debes ingresar un valor!</ng-container>
              </ng-template>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <nz-divider></nz-divider>

      <h3 style="text-align: center; margin-bottom: 1rem">Datos de captacion externa</h3>
      <div nz-row [nzGutter]="16" class="row">
        <div nz-col [nzSpan]="12">
          <div style="display: flex; justify-content: flex-end">
            <button nz-button nzType="link" (click)="showRegisterAlliesModal = true">
              <span nz-icon nzType="plus"></span>
              Registrar nuevo aliado
            </button>
          </div>

          <nz-form-item>
            <nz-form-label nzFor="ally">Aliado</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="ally">
                <nz-option *ngFor="let ally of allies" [nzValue]="ally.id"
                           [nzLabel]="ally.firstName + ' ' + ally.lastName"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="12">
          <div style="display: flex; justify-content: flex-end">
            <button nz-button nzType="link" (click)="showRegisterExternalAdviserModal = true">
              <span nz-icon nzType="plus"></span>
              Registrar nuevo asesor externo
            </button>
          </div>

          <nz-form-item>
            <nz-form-label nzFor="externalAdviser">Captacion asesor externo</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="externalAdviser" nzAllowClear>
                <nz-option *ngFor="let adviser of externalAdvisers" [nzValue]="adviser.id"
                           [nzLabel]="adviser.firstName + ' ' + adviser.lastName"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <nz-divider></nz-divider>

      <h3 style="font-weight: bold; margin-bottom: 1rem;">El propietario autoriza publicar en :</h3>
      <label nz-checkbox formControlName="socialMedia">Redes sociales</label> <br>
      <label style="margin: 1rem 0" nz-checkbox formControlName="realStateWebPages">Páginas de Inmuebles</label> <br>
      <label nz-checkbox formControlName="realStateGroups">Grupos Inmobiliarios</label> <br>
      <label style="margin: 1rem 0" nz-checkbox formControlName="mouthToMouth">Boca a boca</label> <br>
      <label nz-checkbox formControlName="publicationOnBuilding">Aviso en fachada</label> <br>

    </div>
  </form>
</ng-container>

<ng-container *ngIf="index === 5">
  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="attributesForm">
    <div class="content">
      <h3 style="text-align: center; margin-bottom: 2rem;">Atributos</h3>

      <div *ngIf="generalForm.value['propertyType'] === '' " style="margin-top: 5rem">
        <nz-empty
          nzNotFoundImage="https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg"
          [nzNotFoundContent]="contentTpl"
          [nzNotFoundFooter]="footerTpl"
        >
          <ng-template #contentTpl>
        <span>
          No has seleccionado un <b>tipo de propiedad</b>
        </span>
          </ng-template>
          <ng-template #footerTpl>
            <button nz-button nzType="primary" (click)="handleGoToSelectPropertyType()">Seleccionar</button>
          </ng-template>
        </nz-empty>
      </div>
      <div *ngIf="attributes.controls.length < 1 && generalForm.value['propertyType'] !== '' ">
        <nz-empty
          [nzNotFoundContent]="contentTpl"
        >
          <ng-template #contentTpl>
        <span>
          No se encontraron atributos para <b>{{generalForm.value['propertyType']}}</b>
        </span>
          </ng-template>
        </nz-empty>
      </div>
      <ng-container formArrayName="attributes">
        <div nz-row class="row" [nzGutter]="16">
          <div nz-col [nzSpan]="8" *ngFor="let attributeForm of attributes.controls, index as i">
            <nz-form-item [formGroup]="getFormGroup(attributeForm)">
              <p *ngIf="attributeForm.value.formType !== 'check'"
                 style="font-size: 12px !important; font-weight: bold">{{attributeForm.value.label}}: </p>
              <nz-form-control>
                <ng-container *ngIf="attributeForm.value.formType === 'check'">
                  <label nz-checkbox formControlName="value">
                    <span style="font-size: 12px !important; font-weight: bold">{{attributeForm.value.label}} </span>
                  </label>
                </ng-container>
                <ng-container *ngIf="attributeForm.value.formType === 'text'">
                  <input
                    type="text"
                    style="width: 200px"
                    nz-input
                    formControlName="value"
                    [placeholder]="attributeForm.value.placeholder"/>
                </ng-container>
                <ng-container
                  *ngIf="attributeForm.value.formType === 'select'">
                  <nz-radio-group formControlName="value">
                    <label *ngFor="let option of attributeForm.value.options.split('#')" nz-radio
                           [nzValue]="option">{{option}}</label>
                  </nz-radio-group>
                  <!--                  <nz-select formControlName="value">-->
                  <!--                    <nz-option-->
                  <!--                      *ngFor="let option of attributeForm.value.options.split('#'), index as i"-->
                  <!--                      [nzValue]="option"-->
                  <!--                      [nzLabel]="option">-->
                  <!--                    </nz-option>-->
                  <!--                  </nz-select>-->
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
      </ng-container>
    </div>
  </form>

  <nz-divider></nz-divider>

  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="servicesForm">
    <div class="content">
      <h3 style="text-align: center; margin-bottom: 2rem;">Servicios</h3>
      <ng-container formArrayName="distribution">

        <div nz-row class="row" [nzGutter]="16">
          <div nz-col [nzSpan]="8" *ngFor="let servicesForm of services.controls, index as i">
            <nz-form-item [formGroup]="getFormGroup(servicesForm)">
              <p *ngIf="servicesForm.value.type !== 'check'"
                 style="font-size: 12px !important; font-weight: bold">{{servicesForm.value.label}}: </p>
              <nz-form-control>
                <ng-container *ngIf="servicesForm.value.type === 'check'">
                  <label nz-checkbox formControlName="value">
                    <span style="font-size: 12px !important; font-weight: bold">{{servicesForm.value.label}} </span>
                  </label>
                </ng-container>
                <ng-container *ngIf="servicesForm.value.type === 'text'">
                  <input
                    type="text"
                    style="width: 200px"
                    nz-input
                    formControlName="value"
                    [placeholder]="servicesForm.value.placeholder"/>
                </ng-container>
                <ng-container
                  *ngIf="servicesForm.value.type === 'select'">
                  <nz-radio-group formControlName="value">
                    <label *ngFor="let option of servicesForm.value.options.split('#')" nz-radio
                           [nzValue]="option">{{option}}</label>
                  </nz-radio-group>
                </ng-container>
              </nz-form-control>
            </nz-form-item>
          </div>
        </div>
      </ng-container>
    </div>
  </form>

</ng-container>



<ng-container *ngIf="index === 6">
  <form class="form mt-3" nz-form nzLayout="vertical" [formGroup]="documentsForm">
    <div class="content">


      <div style="display: flex; align-items: center; justify-content: space-between">
        <h3>Datos de propietario</h3>
        <button nz-button nzType="link" (click)="showRegisterOwnersModal = true">
          <span nz-icon nzType="plus"></span>
          Registrar nuevo propietario
        </button>
      </div>

      <div nz-row class="row" [nzGutter]="16">

        <div nz-col [nzSpan]="10">
          <nz-form-item style="margin: 1rem 0">
            <nz-form-control>
              <nz-select formControlName="owner" [nzLoading]="ownersLoading">
                <nz-option *ngFor="let owner of owners" [nzValue]="owner.id"
                           [nzLabel]="owner.firstName + ' ' + owner.lastName"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <nz-divider></nz-divider>

      <h3>Datos de apoderado</h3>

      <div nz-row class="row" style="margin: 1rem 0" [nzGutter]="16">
        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="attorneyFirstName">Nombre</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="attorneyFirstName"
                     placeholder="Nombre"/>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="attorneyLastName">Apellido</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="attorneyLastName"
                     placeholder="Apellido"/>

            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="attorneyPhone">Telefono</nz-form-label>
            <nz-form-control>
              <input type="text" appOnlyNumbers style="width: 100%" nz-input formControlName="attorneyPhone"
                     placeholder="Telefono"/>
            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col [nzSpan]="6">
          <nz-form-item>
            <nz-form-label nzFor="attorneyEmail">Email</nz-form-label>
            <nz-form-control>
              <input type="text" style="width: 100%" nz-input formControlName="attorneyEmail"
                     placeholder="Email"/>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <nz-divider></nz-divider>


      <div nz-row class="row" [nzGutter]="16">
        <div nz-col [nzSpan]="8">
          <label nz-checkbox formControlName="propertyDoc">Documento de propiedad</label> <br>
          <label style="margin: 1rem 0" nz-checkbox formControlName="ownerCIorRIF">C.I / RIF propietario</label> <br>
          <label nz-checkbox formControlName="spouseCIorRIF">C.I / RIF Conyuge</label> <br>
        </div>
        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzFor="power">Poder</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="power">
                <nz-option nzValue="N/A" nzLabel="N/A"></nz-option>
                <nz-option nzValue="Por tramitar" nzLabel="Por tramitar"></nz-option>
                <nz-option nzValue="Notariado" nzLabel="Notariado"></nz-option>
                <nz-option nzValue="Registrado" nzLabel="Registrado"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
          <label nz-checkbox formControlName="CIorRIF">C.I / RIF</label> <br>

        </div>
        <div nz-col [nzSpan]="8">
          <nz-form-item>
            <nz-form-label nzFor="mortgageRelease">Liberacion de hipoteca</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="mortgageRelease">
                <nz-option nzValue="N/A" nzLabel="N/A"></nz-option>
                <nz-option nzValue="Por tramitar" nzLabel="Por tramitar"></nz-option>
                <nz-option nzValue="Registrado" nzLabel="Registrado"></nz-option>
                <nz-option nzValue="Solo finiquito" nzLabel="Solo finiquito"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label nzFor="successionDeclaration">Declaracion sucesoral</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="successionDeclaration">
                <nz-option nzValue="N/A" nzLabel="N/A"></nz-option>
                <nz-option nzValue="Por tramitar" nzLabel="Por tramitar"></nz-option>
                <nz-option nzValue="Declaracion" nzLabel="Declaracion"></nz-option>
                <nz-option nzValue="Solvencia" nzLabel="Solvencia"></nz-option>
                <nz-option nzValue="RIF" nzLabel="RIF"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-label nzFor="courtRulings">Sentencias tribunales</nz-form-label>
            <nz-form-control>
              <nz-select formControlName="courtRulings">
                <nz-option nzValue="N/A" nzLabel="N/A"></nz-option>
                <nz-option nzValue="Por tramitar" nzLabel="Por tramitar"></nz-option>
                <nz-option nzValue="Registradas" nzLabel="Registradas"></nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>

        </div>

      </div>

      <nz-divider></nz-divider>

      <h3 style="font-weight: bold; margin: 1rem 0; text-align: center">{{operationType}} de propiedad</h3>

      <div nz-row [nzGutter]="16">
        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label nzFor="cadastralRecordYear"> Cedula catastral</nz-form-label>
            <nz-form-control>
              <input type="text" appOnlyNumbers maxlength="4" style="width: 100%; max-width: 100px; margin-bottom: 1rem"
                     nz-input
                     formControlName="cadastralRecordYear"
                     placeholder="Ano"/>
              <br>
              <label nz-checkbox formControlName="isCadastralRecordSameOwner">A nombre de propietario</label> <br>
              <label nz-checkbox formControlName="mainProperty" style="margin-top: 1rem"
                     *ngIf="operationType === 'Venta'">Vivienda principal</label> <br>

            </nz-form-control>
          </nz-form-item>
        </div>

        <div nz-col nzSpan="12">
          <nz-form-item>
            <nz-form-label nzFor="cadastralRecordYear">Impuesto inmobiliario</nz-form-label>
            <nz-form-control>
              <input type="text" appOnlyNumbers maxlength="4" style="width: 100%; max-width: 100px; margin-bottom: 1rem"
                     nz-input
                     formControlName="cadastralRecordYear"
                     placeholder="Ano"/>
              <br>
              <label nz-checkbox formControlName="condominiumSolvency">Solvencia de condominio y otros</label> <br>

            </nz-form-control>
          </nz-form-item>
        </div>
      </div>


      <nz-divider></nz-divider>

      <button nz-button nzBlock type="button" [nzLoading]="loadingDocument" (click)="clickInputFile('document')">
        <span nz-icon nzType="upload"></span>
        Agregar documento
      </button>
      <div *ngIf="documents.length < 1 " style="margin-top: 5rem">
        <nz-empty [nzNotFoundContent]="contentTpl">
          <ng-template #contentTpl>
            <span>No se an agregado documentos a esta propiedad</span>
          </ng-template>
        </nz-empty>
      </div>
      <input style="display: none" (change)="handleUploadFile($event, 'documentos')" multiple type="file"
             #documentInputFile
             accept="/*">


      <app-draggable-grid
        [elements]="documents"
        (onDeleteElement)="handleDeleteImage($event, 'document')"
        (onSortElements)="handleSortElements($event, 'document')"
      >
      </app-draggable-grid>
    </div>
  </form>
</ng-container>

<div style="display: flex; justify-content: center; margin-top: 2rem">
  <div style="width: 900px; display: flex; justify-content: space-between">
    <div>
      <button
        nz-button
        nzType="default"
        *ngIf="index > 0"
        (click)="goPrev()"
      >
        Anterior
      </button>
    </div>
    <button
      nz-button
      *ngIf="index !== 6"
      nzType="primary"
      [disabled]="handleGoNextButtonDisabled()"
      (click)="goNext()"
    >
      Siguiente
    </button>
    <button
      nz-button
      *ngIf="index === 6"
      nzType="primary"
      (click)="submitForm()"
      [disabled]="generalForm.invalid || locationForm.invalid || negotiationForm.invalid || documentsForm.invalid"
      [nzLoading]="loading">Guardar cambios
    </button>
  </div>
</div>

<!--Modals-->

<app-register-owner-modal (onClose)="showRegisterOwnersModal = false" (onFinished)="getOwners()"
                          (onCancel)="showRegisterOwnersModal = $event"
                          [showModal]="showRegisterOwnersModal"></app-register-owner-modal>


<app-register-ally-modal (onClose)="showRegisterAlliesModal = false" (onFinished)="getAllies()"
                         (onCancel)="showRegisterAlliesModal = $event"
                         [showModal]="showRegisterAlliesModal"></app-register-ally-modal>

<app-register-external-adviser-modal (onClose)="showRegisterExternalAdviserModal = false" (onFinished)="getExternalAdvisers()"
                         (onCancel)="showRegisterExternalAdviserModal = $event"
                         [showModal]="showRegisterExternalAdviserModal"></app-register-external-adviser-modal>

<app-reorder-images-modal [showModal]="showOrderModal" (onCancel)="showOrderModal = false" [images]="images"
                          (onClose)="showOrderModal = false"
                          (onFinished)="showOrderModal = false"></app-reorder-images-modal>


<!--Templates-->
<ng-template #negotiationTitle>
  <p>Neg. y Autorización  <br> de Publicidad</p>
</ng-template>

<ng-template #attributesTitle>
  <p>Atributos  <br> y servicios</p>
</ng-template>

<ng-template #distributionTitle>
  <p>Distribucion  <br> y equipos</p>
</ng-template>

<ng-template #locationTitle>
  <p>Ubicacion  <br> y adyacencias</p>
</ng-template>
